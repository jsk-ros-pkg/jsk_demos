<launch>
    <arg name="TOPIC_DEPTH_FRONT_RIGHT" default="/spot/depth/frontright"/>
    <arg name="TOPIC_DEPTH_FRONT_LEFT" default="/spot/depth/frontleft"/>
    <arg name="TOPIC_DEPTH_RIGHT" default="/spot/depth/right"/>
    <arg name="TOPIC_DEPTH_LEFT" default="/spot/depth/left"/>
    <arg name="TOPIC_DEPTH_BACK" default="/spot/depth/back"/>

    <!-- front right -->
    <node
        pkg="nodelet"
        type="nodelet"
        name="obstacle_detector_front_right_depth_image_proc"
        args="standalone depth_image_proc/point_cloud_xyz"
        >
        <remap from="camera_info" to="$(arg TOPIC_DEPTH_FRONT_RIGHT)/camera_info"/>
        <remap from="image_rect" to="$(arg TOPIC_DEPTH_FRONT_RIGHT)/image"/>
        <remap from="points" to="$(arg TOPIC_DEPTH_FRONT_RIGHT)/points"/>
    </node>
    <!-- front left -->
    <node
        pkg="nodelet"
        type="nodelet"
        name="obstacle_detector_front_left_depth_image_proc"
        args="standalone depth_image_proc/point_cloud_xyz"
        >
        <remap from="camera_info" to="$(arg TOPIC_DEPTH_FRONT_LEFT)/camera_info"/>
        <remap from="image_rect" to="$(arg TOPIC_DEPTH_FRONT_LEFT)/image"/>
        <remap from="points" to="$(arg TOPIC_DEPTH_FRONT_LEFT)/points"/>
    </node>
    <!-- right -->
    <node
        pkg="nodelet"
        type="nodelet"
        name="obstacle_detector_right_depth_image_proc"
        args="standalone depth_image_proc/point_cloud_xyz"
        >
        <remap from="camera_info" to="$(arg TOPIC_DEPTH_RIGHT)/camera_info"/>
        <remap from="image_rect" to="$(arg TOPIC_DEPTH_RIGHT)/image"/>
        <remap from="points" to="$(arg TOPIC_DEPTH_RIGHT)/points"/>
    </node>
    <!-- left -->
    <node
        pkg="nodelet"
        type="nodelet"
        name="obstacle_detector_left_depth_image_proc"
        args="standalone depth_image_proc/point_cloud_xyz"
        >
        <remap from="camera_info" to="$(arg TOPIC_DEPTH_LEFT)/camera_info"/>
        <remap from="image_rect" to="$(arg TOPIC_DEPTH_LEFT)/image"/>
        <remap from="points" to="$(arg TOPIC_DEPTH_LEFT)/points"/>
    </node>
    <!-- back -->
    <node
        pkg="nodelet"
        type="nodelet"
        name="obstacle_detector_back_depth_image_proc"
        args="standalone depth_image_proc/point_cloud_xyz"
        >
        <remap from="camera_info" to="$(arg TOPIC_DEPTH_BACK)/camera_info"/>
        <remap from="image_rect" to="$(arg TOPIC_DEPTH_BACK)/image"/>
        <remap from="points" to="$(arg TOPIC_DEPTH_BACK)/points"/>
    </node>
</launch>
