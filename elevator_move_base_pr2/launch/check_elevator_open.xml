<launch>
  <arg name="INPUT_CLOUD" default="/kinect_head/depth_registered/half/throttled/points"/>
  <arg name="MACHINE" default="c2"/>
  <arg name="MANAGER" default="check_elevator_open_manager"/>
  <arg name="NS" default="check_elevator_open"/>

  <group ns="$(arg NS)">
    <node name="$(arg MANAGER)"
          pkg="nodelet" type="nodelet"
          args="manager"
          machine="$(arg MACHINE)"
          output="screen" respawn="true"/>

    <node name="voxel_grid"
          pkg="nodelet" type="nodelet"
          args="load pcl/VoxelGrid $(arg MANAGER)"
          machine="$(arg MACHINE)">
      <remap from="~input" to="$(arg INPUT_CLOUD)"/>
      <rosparam>
        filter_limit_min: 1.0
        filter_limit_max: 3.0
        leaf_size: 0.01
      </rosparam>
    </node>

    <node name="octree_change_publisher"
          pkg="nodelet" type="nodelet"
          args="load jsk_pcl/OctreeChangePublisher $(arg MANAGER)"
          machine="$(arg MACHINE)">
      <remap from="~input" to="voxel_grid/output"/>
      <rosparam>
        resolution: 0.3
        noise_filter: 10
      </rosparam>
    </node>
  </group>

</launch>
